\hypertarget{history_8c_source}{}\doxysection{history.\+c}
\mbox{\hyperlink{history_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <time.h>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{history_8h}{history.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graph_8h}{graph.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#define\ MAX\_LENGTH\_NAME\ 50}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#define\ MAX\_LENGTH\_ADDRESS\ 50}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ MAX\_LENGTH\_EMAIL\ 50}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ MAX\_LINE\ 250}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \mbox{\hyperlink{structhistory}{History}}\ *\mbox{\hyperlink{history_8c_a58d99c226bf37144974ab0691a058138}{insertHistory}}(\mbox{\hyperlink{structhistory}{History}}\ *head,\ \textcolor{keywordtype}{int}\ clientID,\ \textcolor{keywordtype}{char}\ clientName[],\ \textcolor{keywordtype}{int}\ vehicleID,\ \textcolor{keywordtype}{char}\ vehicleType[],}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ cost,\ \textcolor{keywordtype}{char}\ initLocation[],\ \textcolor{keyword}{struct}\ tm\ init)}
\DoxyCodeLine{00016\ \{}
\DoxyCodeLine{00017\ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ *\textcolor{keyword}{new}\ =\ malloc(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structhistory}{history}}));}
\DoxyCodeLine{00018\ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{new}\ !=\ NULL)}
\DoxyCodeLine{00019\ \ \ \ \ \ \{}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}-\/>clientID\ =\ clientID;}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ strcpy(new-\/>clientName,\ clientName);}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}-\/>vehicleID\ =\ vehicleID;}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ strcpy(new-\/>vehicleType,\ vehicleType);}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ strcpy(new-\/>initLocation,\ initLocation);}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ strcpy(new-\/>finalLocation,\ \textcolor{stringliteral}{"{}Vehicle\ in\ use."{}});}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}-\/>cost\ =\ cost;}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}-\/>init\ =\ init;}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}-\/>init.tm\_year\ +=\ 1900;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}-\/>next\ =\ head;}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{new});}
\DoxyCodeLine{00031\ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (head);}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{history_8c_a6934f92b0809747d09b35a4dd8af683e}{listHistory}}(\mbox{\hyperlink{structhistory}{History}}\ **\mbox{\hyperlink{structhistory}{history}})}
\DoxyCodeLine{00037\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ *head\ =\ *\mbox{\hyperlink{structhistory}{history}};}
\DoxyCodeLine{00039\ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Client\ ID\(\backslash\)tClient\ Name\(\backslash\)tVehicle\ ID\(\backslash\)tVehicle\ Type\(\backslash\)tTotal\ Cost\(\backslash\)tStarting\ Location\(\backslash\)tFinal\ Location\(\backslash\)tStart\ of\ rental\(\backslash\)t\(\backslash\)tEnd\ of\ rental\(\backslash\)t\(\backslash\)n"{}});}
\DoxyCodeLine{00040\ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ head\ !=\ NULL;\ head\ =\ head-\/>\mbox{\hyperlink{structhistory_a6bad528b02c3b70434848bef3b66dab2}{next}})}
\DoxyCodeLine{00041\ \ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%d\(\backslash\)t\(\backslash\)t\%s\(\backslash\)t\%d\(\backslash\)t\(\backslash\)t\%s\(\backslash\)t\%.2f\(\backslash\)t\%s\(\backslash\)t\%s\(\backslash\)t\(\backslash\)t\%d/\%d/\%d\ \%.2d:\%.2d:\%.2d\(\backslash\)t\%d/\%d/\%d\ \%.2d:\%.2d:\%.2d\(\backslash\)n"{}},}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ head-\/>\mbox{\hyperlink{structhistory_a2e938cd63a2404d0902c57205706872a}{clientID}},\ head-\/>\mbox{\hyperlink{structhistory_a94d93ebd3da76c31d3cb1f94e1cc3df8}{clientName}},}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ head-\/>\mbox{\hyperlink{structhistory_ae00cd305ab9994864144f2f9aabd488e}{vehicleID}},\ head-\/>\mbox{\hyperlink{structhistory_aba8bce2ca7b96e1747bfd08819fcf631}{vehicleType}},\ head-\/>\mbox{\hyperlink{structhistory_a8f9450ec0a591829b05b6a04e2d19614}{cost}},\ head-\/>\mbox{\hyperlink{structhistory_a1d7024dfb3efe722ab1e8372252a7f87}{initLocation}},\ head-\/>\mbox{\hyperlink{structhistory_afe68b331c72a899296ce22ecd1024f5e}{finalLocation}},}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ head-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_mday,\ head-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_mon,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ head-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_year,\ head-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_hour,\ head-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_min,\ head-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_sec,}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ head-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}.tm\_mday,\ head-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}.tm\_mon,\ head-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}.tm\_year,\ head-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}.tm\_hour,}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ head-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}.tm\_min,\ head-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}.tm\_sec);}
\DoxyCodeLine{00049\ \ \ \ \ \ \}}
\DoxyCodeLine{00050\ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{history_8c_aab91c4c09f1ffc502566e6757affeb70}{cancelRentHist}}(\mbox{\hyperlink{structhistory}{History}}\ **\mbox{\hyperlink{structhistory}{history}},\ \mbox{\hyperlink{structgraph2}{Graph}}\ **g,\ \textcolor{keywordtype}{int}\ vehicleID,\ \textcolor{keywordtype}{int}\ clientID,\ \textcolor{keywordtype}{int}\ locationID)}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ *aux\ =\ *\mbox{\hyperlink{structhistory}{history}};}
\DoxyCodeLine{00055\ \ \ \ \ \ \mbox{\hyperlink{structgraph2}{Graph}}\ *auxgraph\ =\ *g;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \ \textcolor{keywordflow}{while}\ (aux\ !=\ NULL)}
\DoxyCodeLine{00058\ \ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((clientID\ ==\ aux-\/>\mbox{\hyperlink{structhistory_a2e938cd63a2404d0902c57205706872a}{clientID}})\ \&\&\ (vehicleID\ ==\ aux-\/>\mbox{\hyperlink{structhistory_ae00cd305ab9994864144f2f9aabd488e}{vehicleID}}))}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ time\_t\ rawtime;}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ time(\&rawtime);}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}\ =\ *localtime(\&rawtime);}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux-\/>\mbox{\hyperlink{structhistory_a1b114f1503d9c504cef0774504d3e1ca}{end}}.tm\_year\ +=\ 1900;}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (auxgraph\ !=\ NULL)}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (locationID\ ==\ auxgraph-\/>\mbox{\hyperlink{structgraph2_a7441ef0865bcb3db9b8064dd7375c1ea}{id}})}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ strcpy(aux-\/>\mbox{\hyperlink{structhistory_afe68b331c72a899296ce22ecd1024f5e}{finalLocation}},\ auxgraph-\/>\mbox{\hyperlink{structgraph2_a91d994e7fd0ffba79385fe4f445eaf8b}{vertex}});}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ auxgraph\ =\ auxgraph-\/>\mbox{\hyperlink{structgraph2_afd8273dd7bf6dc817026c51f0698519d}{next}};}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux\ =\ aux-\/>\mbox{\hyperlink{structhistory_a6bad528b02c3b70434848bef3b66dab2}{next}};}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00076\ \ \ \ \ \ \}}
\DoxyCodeLine{00077\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{history_8c_a73ae08b11e6c290151cb1fdb5e302c73}{saveHistory}}(\mbox{\hyperlink{structhistory}{History}}\ *head)}
\DoxyCodeLine{00080\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ FILE\ *fp;}
\DoxyCodeLine{00082\ \ \ \ \ \ fp\ =\ fopen(\textcolor{stringliteral}{"{}history.txt"{}},\ \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{00083\ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fp\ !=\ NULL)}
\DoxyCodeLine{00084\ \ \ \ \ \ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ *aux\ =\ head;}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (aux\ !=\ NULL)}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(fp,\ \textcolor{stringliteral}{"{}\%d,\%s,\%d,\%s,\%f,\%d/\%d/\%d,\%d:\%d:\%d\(\backslash\)n"{}},\ aux-\/>\mbox{\hyperlink{structhistory_a2e938cd63a2404d0902c57205706872a}{clientID}},\ aux-\/>\mbox{\hyperlink{structhistory_a94d93ebd3da76c31d3cb1f94e1cc3df8}{clientName}},}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux-\/>\mbox{\hyperlink{structhistory_ae00cd305ab9994864144f2f9aabd488e}{vehicleID}},\ aux-\/>\mbox{\hyperlink{structhistory_aba8bce2ca7b96e1747bfd08819fcf631}{vehicleType}},\ aux-\/>\mbox{\hyperlink{structhistory_a8f9450ec0a591829b05b6a04e2d19614}{cost}},}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_mday,\ aux-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_mon,\ aux-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_year,}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_hour,\ aux-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_min,\ aux-\/>\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}}.tm\_sec);}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux\ =\ aux-\/>\mbox{\hyperlink{structhistory_a6bad528b02c3b70434848bef3b66dab2}{next}};}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ fclose(fp);}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (1);}
\DoxyCodeLine{00097\ \ \ \ \ \ \}}
\DoxyCodeLine{00098\ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (0);}
\DoxyCodeLine{00100\ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \mbox{\hyperlink{structhistory}{History}}\ *\mbox{\hyperlink{history_8c_a6c8cf3d68c3a2eae703c283f7efc4fb1}{readHistory}}()}
\DoxyCodeLine{00103\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ FILE\ *fp;}
\DoxyCodeLine{00105\ \ \ \ \ \ \textcolor{keywordtype}{int}\ clientID,\ vehicleID;}
\DoxyCodeLine{00106\ \ \ \ \ \ \textcolor{keywordtype}{float}\ cost;}
\DoxyCodeLine{00107\ \ \ \ \ \ \textcolor{keywordtype}{char}\ clientName[\mbox{\hyperlink{history_8c_abef4053348c46a9128f0e29738918c3e}{MAX\_LENGTH\_NAME}}],\ vehicleType[\mbox{\hyperlink{history_8c_abef4053348c46a9128f0e29738918c3e}{MAX\_LENGTH\_NAME}}];}
\DoxyCodeLine{00108\ \ \ \ \ \ \textcolor{keywordtype}{char}\ initLoc[\mbox{\hyperlink{graph_8h_a70ed59adcb4159ac551058053e649640}{SIZE}}],\ finalLoc[\mbox{\hyperlink{graph_8h_a70ed59adcb4159ac551058053e649640}{SIZE}}];}
\DoxyCodeLine{00109\ \ \ \ \ \ \textcolor{keyword}{struct\ }tm\ init\ =\ \{0\};}
\DoxyCodeLine{00110\ \ \ \ \ \ \textcolor{keyword}{struct\ }tm\ end\ =\ \{0\};}
\DoxyCodeLine{00111\ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ *aux\ =\ NULL;}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \ fp\ =\ fopen(\textcolor{stringliteral}{"{}history.txt"{}},\ \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{00114\ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fp\ !=\ NULL)}
\DoxyCodeLine{00115\ \ \ \ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ line[\mbox{\hyperlink{history_8c_a842ed03f27719bc87666bfd1f75415b8}{MAX\_LINE}}];}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (fgets(line,\ \textcolor{keyword}{sizeof}(line),\ fp))}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sscanf(line,\ \textcolor{stringliteral}{"{}\%d,\%[\string^,],\%d,\%[\string^,],\%f,\%[\string^,],\%[\string^,],\%d/\%d/\%d\ \%d:\%d:\%d,\%d/\%d/\%d\ \%d:\%d:\%d\(\backslash\)n"{}},}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&clientID,\ clientName,\ \&vehicleID,\ vehicleType,\ \&cost,\ initLoc,\ finalLoc,\ \&init.tm\_mday,\ \&init.tm\_mon,}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&init.tm\_year,\ \&init.tm\_hour,\ \&init.tm\_min,\ \&init.tm\_sec,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&end.tm\_mday,\ \&end.tm\_mon,\ \&end.tm\_year,\ \&end.tm\_hour,}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&end.tm\_min,\ \&end.tm\_sec);}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux\ =\ \mbox{\hyperlink{history_8c_a58d99c226bf37144974ab0691a058138}{insertHistory}}(aux,\ clientID,\ clientName,\ vehicleID,}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vehicleType,\ cost,\ initLoc,\ init);}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ fclose(fp);}
\DoxyCodeLine{00129\ \ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ \ \textcolor{keywordflow}{return}\ (aux);}
\DoxyCodeLine{00131\ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{history_8c_a161c7c5d333cfd71793ffdfa20b5b9b6}{saveHistoryBinary}}(\mbox{\hyperlink{structhistory}{History}}\ *head)}
\DoxyCodeLine{00134\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ FILE\ *fp;}
\DoxyCodeLine{00136\ \ \ \ \ \ fp\ =\ fopen(\textcolor{stringliteral}{"{}historyBinary.bin"{}},\ \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{00137\ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fp\ ==\ NULL)}
\DoxyCodeLine{00138\ \ \ \ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Erro\ ao\ abrir\ o\ ficheiro.\(\backslash\)n"{}});}
\DoxyCodeLine{00140\ \ \ \ \ \ \}}
\DoxyCodeLine{00141\ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (fp\ !=\ NULL)}
\DoxyCodeLine{00142\ \ \ \ \ \ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ *aux\ =\ head;}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (aux\ !=\ NULL)}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fwrite(aux,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structhistory}{History}}),\ 1,\ fp);}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux\ =\ aux-\/>\mbox{\hyperlink{structhistory_a6bad528b02c3b70434848bef3b66dab2}{next}};}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ fclose(fp);}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (1);}
\DoxyCodeLine{00151\ \ \ \ \ \ \}}
\DoxyCodeLine{00152\ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (0);}
\DoxyCodeLine{00154\ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \mbox{\hyperlink{structhistory}{History}}\ *\mbox{\hyperlink{history_8c_a36c848441103d96153883a924a707a9c}{readHistoryBinary}}()}
\DoxyCodeLine{00157\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ FILE\ *fp;}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ *aux\ =\ NULL;}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \ fp\ =\ fopen(\textcolor{stringliteral}{"{}historyBinary.bin"{}},\ \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{00163\ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fp\ ==\ NULL)}
\DoxyCodeLine{00164\ \ \ \ \ \ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Erro\ ao\ abrir\ o\ ficheiro."{}});}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{00167\ \ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!feof(fp))}
\DoxyCodeLine{00169\ \ \ \ \ \ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhistory}{History}}\ \mbox{\hyperlink{structhistory}{history}};}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bytes\_read\ =\ fread(\&\mbox{\hyperlink{structhistory}{history}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structhistory}{History}}),\ 1,\ fp);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes\_read\ ==\ 1)}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aux\ =\ \mbox{\hyperlink{history_8c_a58d99c226bf37144974ab0691a058138}{insertHistory}}(aux,\ \mbox{\hyperlink{structhistory}{history}}.\mbox{\hyperlink{structhistory_a2e938cd63a2404d0902c57205706872a}{clientID}},\ \mbox{\hyperlink{structhistory}{history}}.\mbox{\hyperlink{structhistory_a94d93ebd3da76c31d3cb1f94e1cc3df8}{clientName}},}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhistory}{history}}.\mbox{\hyperlink{structhistory_ae00cd305ab9994864144f2f9aabd488e}{vehicleID}},\ \mbox{\hyperlink{structhistory}{history}}.\mbox{\hyperlink{structhistory_aba8bce2ca7b96e1747bfd08819fcf631}{vehicleType}},\ \mbox{\hyperlink{structhistory}{history}}.\mbox{\hyperlink{structhistory_a8f9450ec0a591829b05b6a04e2d19614}{cost}},}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhistory}{history}}.\mbox{\hyperlink{structhistory_a1d7024dfb3efe722ab1e8372252a7f87}{initLocation}},\ \mbox{\hyperlink{structhistory}{history}}.\mbox{\hyperlink{structhistory_ab8786145740c59c29cd9d475b2dd57fd}{init}});}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ \ \ \ \ \ fclose(fp);}
\DoxyCodeLine{00180\ \ \ \ \ \ \textcolor{keywordflow}{return}\ (aux);}
\DoxyCodeLine{00181\ \}}

\end{DoxyCode}
